<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
	  xmlns:planning="http://typo3.org/ns/OliverHader/PlanningApp/ViewHelpers"
	  data-namespace-typo3-fluid="true">

    <f:for each="{activities}" as="activity">
        <div class="d-flex">
            <div class="mr-auto">
                <f:link.action action="showActivity" arguments="{activity : activity, previousAction: previousAction}">
                    {activity.datePeriod.startTime -> f:format.date(format:'Y-m-d')}
                    -{activity.datePeriod.endTime -> f:format.date(format:'Y-m-d')}: {activity.title}
                </f:link.action>
            </div>
            <div class="">
                <planning:activity.ifSubscribed activity="{activity}" volunteer="{currentVolunteer}">
                    <f:then>
                        <f:link.action action="unsubscribe" arguments="{activity : activity}"
                                       additionalAttributes="{role: 'button'}" class="btn btn-danger btn-md">
                            <i class="fas fa-calendar-minus"></i>
                        </f:link.action>
                    </f:then>
                    <f:else>
                        <f:link.action action="subscribe" arguments="{activity : activity}"
                                       additionalAttributes="{role: 'button'}" class="btn btn-success btn-md">
                            <i class="fas fa-calendar-plus"></i>
                        </f:link.action>
                    </f:else>
                </planning:activity.ifSubscribed>
            </div>
        </div>
    </f:for>
</html>
